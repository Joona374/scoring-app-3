.analysis-page { padding: 8px; background: var(--bg-color); color: var(--text-color); }

.card { background: var(--card-bg); padding: 10px; border-radius: var(--radius);
  box-shadow: 0 0 8px rgba(0,0,0,0.35); }
.hint { text-align: center; color: var(--muted-text); }

.ana-grid { display: flex; flex-direction: column; gap: 12px; width: 100%; max-width: 1400px; margin: 0 auto; }
.ana-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 12px; }

.analysis-loading {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1.25rem;
  max-width: 900px;
  margin: 24px auto;
}
.analysis-loading .loading-inner {
  display: flex;
  gap: 1rem;
  align-items: center;
}
.analysis-loading h3 {
  margin: 0 0 4px 0;
  font-size: 1.05rem;
  color: var(--text-color);
}
.analysis-loading .hint {
  margin: 0;
  color: var(--muted-text);
  font-size: 0.95rem;
}

.kpis { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; }
.kpi { background: var(--card-bg); padding: 7px; border-radius: var(--radius); text-align: center; border: 1px solid #444; }
.kpi-value { font-size: 20px; font-weight: 700; }
.kpi-label { color: var(--muted-text); }

.bars { display: flex; flex-direction: column; gap: 6px; }
.bar-row { display: grid; grid-template-columns: 1fr 5fr auto; gap: 8px; align-items: center; }
.bar-track { background: #3a3838; height: 8px; border-radius: 6px; overflow: hidden; }
.bar-fill { height: 100%; background: var(--accent-color); }
.muted { color: var(--muted-text); }

.controls.slim { padding: 8px; }
.toggle-group { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
.chk { display: inline-flex; align-items: center; gap: 6px; }
.chk input { accent-color: var(--accent-color); }

.pill-wrap { display: flex; flex-wrap: wrap; gap: 6px; }
.pill-wrap.tight { gap: 6px; }
.pill { background: #2e2e2e; border: 1px solid #444; border-radius: 999px; padding: 6px 12px; color: var(--text-color); cursor: pointer; }
.pill:hover { border-color: var(--accent-color); }
.pill-active { background: var(--accent-color); border-color: var(--accent-color); color: white; }
.pill.sm { padding: 4px 10px; font-size: 0.9rem; }
.pill.xs { padding: 3px 8px; font-size: 0.85rem; }

.resultbar { display: flex; gap: 14px; align-items: center; justify-content: space-between; flex-wrap: wrap; padding: 8px; }
.rb-group { display: inline-flex; align-items: center; gap: 8px; flex-wrap: wrap; }
.rb-label { color: var(--muted-text); margin-right: 4px; font-size: 0.95rem; }

.accordion { margin-bottom: 8px; }
.accordion-toggle { width: 100%; text-align: left; background: #252525; color: var(--text-color);
  border: 1px solid #444; border-radius: var(--radius); padding: 8px 10px; cursor: pointer; }
.accordion-toggle:hover { border-color: var(--accent-color); }
.accordion-body { background: var(--card-bg); border: 1px solid #444; border-radius: var(--radius);
  margin-top: 6px; padding: 8px; }
.accordion-actions { display: flex; justify-content: flex-end; margin-top: 8px; }

.btn { background: var(--accent-color); color: white; border: none; border-radius: var(--radius);
  padding: 8px 12px; cursor: pointer; }
.btn:hover { background: #991b1b; }

.section-title { font-size: 0.95rem; color: var(--muted-text); margin-bottom: 6px; }

.two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.two-col.compact > div { min-width: 0; }

.heat-wrap { position: relative; width: 100%; }
.heat-img { width: 100%; height: auto; display: block; border-radius: var(--radius); }
.heat-canvas { position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none; border-radius: var(--radius); }

.rb-results { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
.rb-side { display: inline-flex; align-items: center; gap: 6px; flex-wrap: wrap; }
.rb-side-label { font-weight: 700; margin-right: 2px; }
.rb-divider { width: 1px; height: 22px; background: #444; margin: 0 6px; opacity: .7; }
.pill-ghost { background: transparent; border: 1px dashed #555; }
.pill-ghost:hover { border-color: var(--accent-color); }
